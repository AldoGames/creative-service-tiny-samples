
if(velocity2d.velocity().length() < 20)
{
	//velocity2d.setVelocity(new Vector2(0,0));

	if(die.result() === 0)
	{
		var resultIndex = getRandomInt(0,die.resultFaces().length-1);
		var resultFace = die.resultFaces()[resultIndex];

		die.animEntity().removeComponent(ut.Core2D.Sprite2DSequencePlayer);

    	var sprite2drenderer = die.animEntity().getComponent(ut.Core2D.Sprite2DRenderer);
    	if(sprite2drenderer != null)
    	{
			sprite2drenderer.setSprite(resultFace);
		}

		die.setResult(resultIndex+1);
	}
}

if(die.result() === 0)
{
	velocity2d.setVelocity(velocity2d.velocity().lerp(new Vector2(0,0), sched.deltaTime() * .2));
}else
{
	velocity2d.setVelocity(velocity2d.velocity().lerp(new Vector2(0,0), sched.deltaTime() * 2));
}

var angle = Math.atan2(velocity2d.velocity().y, velocity2d.velocity().x) * (180/Math.PI) - 90;
//var angle = die.targetRot();

// need to convert to rads for Quaternion().setFromEuler until it is switch to accept degrees 
var radAngle = Math.PI*angle/180;

var worldRotation = new Quaternion().setFromEuler(new ut.Math.Euler(0,0,radAngle));
die.animEntity().getComponent(ut.Core2D.Transform).setWorldRotation(worldRotation);


/**
 * @todo move to random class
 */
function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}